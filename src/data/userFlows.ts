import { Node, Edge } from 'reactflow';

export type FlowCategory = {
  id: string;
  name: string;
  description: string;
  nodes: Node[];
  edges: Edge[];
};

// Node styling based on type
export const nodeStyles = {
  start: { background: 'hsl(220 70% 50%)', color: 'white', border: '2px solid hsl(220 70% 60%)' },
  process: { background: 'hsl(222.2 84% 4.9%)', color: 'hsl(210 40% 98%)', border: '1px solid hsl(217.2 32.6% 17.5%)' },
  decision: { background: 'hsl(222.2 84% 4.9%)', color: 'hsl(210 40% 98%)', border: '1px solid hsl(217.2 32.6% 17.5%)' },
  success: { background: 'hsl(120 60% 45%)', color: 'white', border: '2px solid hsl(120 60% 55%)' },
  warning: { background: 'hsl(45 100% 50%)', color: 'black', border: '2px solid hsl(45 100% 60%)' },
  error: { background: 'hsl(0 70% 55%)', color: 'white', border: '2px solid hsl(0 70% 65%)' },
  admin: { background: 'hsl(270 60% 70%)', color: 'black', border: '2px solid hsl(270 60% 80%)' },
  email: { background: 'hsl(220 70% 50%)', color: 'white', border: '2px solid hsl(220 70% 60%)' }
};

export const userFlows: FlowCategory[] = [
  {
    id: 'auth',
    name: 'Authentication & Onboarding',
    description: 'User sign-up, sign-in, and account approval flow',
    nodes: [
      { id: '1', type: 'input', data: { label: 'User Visits App' }, position: { x: 250, y: 0 }, style: nodeStyles.start },
      { id: '2', data: { label: 'Check Authentication' }, position: { x: 250, y: 80 }, style: nodeStyles.decision },
      { id: '3', data: { label: 'Landing Page' }, position: { x: 100, y: 160 }, style: nodeStyles.process },
      { id: '4', data: { label: 'Sign In Modal' }, position: { x: 0, y: 240 }, style: nodeStyles.process },
      { id: '5', data: { label: 'Sign Up Modal' }, position: { x: 200, y: 240 }, style: nodeStyles.process },
      { id: '6', data: { label: 'Auth Processing' }, position: { x: 100, y: 320 }, style: nodeStyles.process },
      { id: '7', data: { label: 'Check Email Confirmed' }, position: { x: 100, y: 400 }, style: nodeStyles.decision },
      { id: '8', data: { label: 'Email Confirmation Required' }, position: { x: 0, y: 480 }, style: nodeStyles.warning },
      { id: '9', data: { label: 'Check Profile Status' }, position: { x: 250, y: 480 }, style: nodeStyles.decision },
      { id: '10', data: { label: 'Approval Pending' }, position: { x: 100, y: 560 }, style: nodeStyles.warning },
      { id: '11', data: { label: 'Account Rejected' }, position: { x: 250, y: 560 }, style: nodeStyles.error },
      { id: '12', data: { label: 'User Dashboard' }, position: { x: 400, y: 560 }, style: nodeStyles.success },
      { id: '13', data: { label: 'Admin Dashboard' }, position: { x: 550, y: 560 }, style: nodeStyles.admin },
    ],
    edges: [
      { id: 'e1-2', source: '1', target: '2', animated: true },
      { id: 'e2-3', source: '2', target: '3', label: 'No' },
      { id: 'e2-9', source: '2', target: '9', label: 'Yes' },
      { id: 'e3-4', source: '3', target: '4' },
      { id: 'e3-5', source: '3', target: '5' },
      { id: 'e4-6', source: '4', target: '6' },
      { id: 'e5-6', source: '5', target: '6' },
      { id: 'e6-7', source: '6', target: '7' },
      { id: 'e7-8', source: '7', target: '8', label: 'No' },
      { id: 'e7-9', source: '7', target: '9', label: 'Yes' },
      { id: 'e9-10', source: '9', target: '10', label: 'Pending' },
      { id: 'e9-11', source: '9', target: '11', label: 'Rejected' },
      { id: 'e9-12', source: '9', target: '12', label: 'User' },
      { id: 'e9-13', source: '9', target: '13', label: 'Admin' },
    ],
  },
  {
    id: 'subscription',
    name: 'Subscription & Top-Up',
    description: 'Managing subscriptions, top-ups, and credit unlocking',
    nodes: [
      { id: '1', type: 'input', data: { label: 'User Dashboard' }, position: { x: 250, y: 0 }, style: nodeStyles.start },
      { id: '2', data: { label: 'Click Flexi Credits' }, position: { x: 250, y: 80 }, style: nodeStyles.process },
      { id: '3', data: { label: 'Top Up Modal' }, position: { x: 250, y: 160 }, style: nodeStyles.process },
      { id: '4', data: { label: 'Select Plan' }, position: { x: 250, y: 240 }, style: nodeStyles.decision },
      { id: '5', data: { label: 'New Subscription' }, position: { x: 100, y: 320 }, style: nodeStyles.process },
      { id: '6', data: { label: 'Upgrade (Show Proration)' }, position: { x: 250, y: 320 }, style: nodeStyles.warning },
      { id: '7', data: { label: 'Downgrade (Next Cycle)' }, position: { x: 400, y: 320 }, style: nodeStyles.process },
      { id: '8', data: { label: 'Stripe Checkout' }, position: { x: 175, y: 400 }, style: nodeStyles.process },
      { id: '9', data: { label: 'Payment Successful?' }, position: { x: 175, y: 480 }, style: nodeStyles.decision },
      { id: '10', data: { label: 'Award Credits + Bonus AFC' }, position: { x: 175, y: 560 }, style: nodeStyles.success },
      { id: '11', data: { label: 'Payment Failed' }, position: { x: 350, y: 560 }, style: nodeStyles.error },
      { id: '12', data: { label: 'Has Locked AFC?' }, position: { x: 175, y: 640 }, style: nodeStyles.decision },
      { id: '13', data: { label: 'Unlock AFC Modal' }, position: { x: 50, y: 720 }, style: nodeStyles.warning },
      { id: '14', data: { label: 'Return to Dashboard' }, position: { x: 250, y: 800 }, style: nodeStyles.success },
    ],
    edges: [
      { id: 'e1-2', source: '1', target: '2', animated: true },
      { id: 'e2-3', source: '2', target: '3' },
      { id: 'e3-4', source: '3', target: '4' },
      { id: 'e4-5', source: '4', target: '5', label: 'New' },
      { id: 'e4-6', source: '4', target: '6', label: 'Upgrade' },
      { id: 'e4-7', source: '4', target: '7', label: 'Downgrade' },
      { id: 'e5-8', source: '5', target: '8' },
      { id: 'e6-8', source: '6', target: '8' },
      { id: 'e8-9', source: '8', target: '9' },
      { id: 'e9-10', source: '9', target: '10', label: 'Yes' },
      { id: 'e9-11', source: '9', target: '11', label: 'No' },
      { id: 'e10-12', source: '10', target: '12' },
      { id: 'e12-13', source: '12', target: '13', label: 'Yes' },
      { id: 'e12-14', source: '12', target: '14', label: 'No' },
      { id: 'e13-14', source: '13', target: '14' },
    ],
  },
  {
    id: 'campaigns',
    name: 'Campaign Management',
    description: 'Launching and managing marketing campaigns',
    nodes: [
      { id: '1', type: 'input', data: { label: 'Campaign Launch' }, position: { x: 250, y: 0 }, style: nodeStyles.start },
      { id: '2', data: { label: 'Select Campaign Type' }, position: { x: 250, y: 80 }, style: nodeStyles.decision },
      { id: '3', data: { label: 'Facebook Ads Wizard' }, position: { x: 100, y: 160 }, style: nodeStyles.process },
      { id: '4', data: { label: 'Cold Calling Wizard' }, position: { x: 250, y: 160 }, style: nodeStyles.process },
      { id: '5', data: { label: 'VA Support Wizard' }, position: { x: 400, y: 160 }, style: nodeStyles.process },
      { id: '6', data: { label: 'Select Template & Target' }, position: { x: 250, y: 240 }, style: nodeStyles.process },
      { id: '7', data: { label: 'Set Monthly Budget' }, position: { x: 250, y: 320 }, style: nodeStyles.process },
      { id: '8', data: { label: 'Review Campaign' }, position: { x: 250, y: 400 }, style: nodeStyles.process },
      { id: '9', data: { label: 'Check Credits (100 FXC)' }, position: { x: 250, y: 480 }, style: nodeStyles.decision },
      { id: '10', data: { label: 'Top Up Credits' }, position: { x: 100, y: 560 }, style: nodeStyles.warning },
      { id: '11', data: { label: 'Deduct Setup Fee' }, position: { x: 250, y: 560 }, style: nodeStyles.process },
      { id: '12', data: { label: 'Create Campaign Record' }, position: { x: 250, y: 640 }, style: nodeStyles.process },
      { id: '13', data: { label: 'Campaign Launched âœ“' }, position: { x: 250, y: 720 }, style: nodeStyles.success },
      { id: '14', data: { label: 'My Campaigns Page' }, position: { x: 250, y: 800 }, style: nodeStyles.success },
    ],
    edges: [
      { id: 'e1-2', source: '1', target: '2', animated: true },
      { id: 'e2-3', source: '2', target: '3', label: 'FB Ads' },
      { id: 'e2-4', source: '2', target: '4', label: 'Cold Call' },
      { id: 'e2-5', source: '2', target: '5', label: 'VA Support' },
      { id: 'e3-6', source: '3', target: '6' },
      { id: 'e4-6', source: '4', target: '6' },
      { id: 'e5-6', source: '5', target: '6' },
      { id: 'e6-7', source: '6', target: '7' },
      { id: 'e7-8', source: '7', target: '8' },
      { id: 'e8-9', source: '8', target: '9' },
      { id: 'e9-10', source: '9', target: '10', label: 'Insufficient' },
      { id: 'e9-11', source: '9', target: '11', label: 'OK' },
      { id: 'e10-9', source: '10', target: '9', label: 'Retry' },
      { id: 'e11-12', source: '11', target: '12' },
      { id: 'e12-13', source: '12', target: '13' },
      { id: 'e13-14', source: '13', target: '14' },
    ],
  },
  {
    id: 'gifting',
    name: 'Gifting & Reimbursement',
    description: 'Receipt upload and admin approval process',
    nodes: [
      { id: '1', type: 'input', data: { label: 'Gifting Page' }, position: { x: 250, y: 0 }, style: nodeStyles.start },
      { id: '2', data: { label: 'Select Merchant' }, position: { x: 250, y: 80 }, style: nodeStyles.process },
      { id: '3', data: { label: 'Upload Receipt Modal' }, position: { x: 250, y: 160 }, style: nodeStyles.process },
      { id: '4', data: { label: 'Fill Amount & Upload' }, position: { x: 250, y: 240 }, style: nodeStyles.process },
      { id: '5', data: { label: 'Submit Request' }, position: { x: 250, y: 320 }, style: nodeStyles.process },
      { id: '6', data: { label: 'ðŸ“§ Email to User: Submitted' }, position: { x: 100, y: 400 }, style: nodeStyles.email },
      { id: '7', data: { label: 'ðŸ“§ Email to Admin: New Request' }, position: { x: 400, y: 400 }, style: nodeStyles.email },
      { id: '8', data: { label: 'Status: Pending' }, position: { x: 250, y: 480 }, style: nodeStyles.warning },
      { id: '9', data: { label: 'Admin Reviews Request' }, position: { x: 250, y: 560 }, style: nodeStyles.admin },
      { id: '10', data: { label: 'Admin Decision' }, position: { x: 250, y: 640 }, style: nodeStyles.decision },
      { id: '11', data: { label: 'Approve & Award Credits' }, position: { x: 100, y: 720 }, style: nodeStyles.success },
      { id: '12', data: { label: 'Reject Request' }, position: { x: 400, y: 720 }, style: nodeStyles.error },
      { id: '13', data: { label: 'ðŸ“§ Emails: Approved' }, position: { x: 100, y: 800 }, style: nodeStyles.email },
      { id: '14', data: { label: 'ðŸ“§ Emails: Rejected' }, position: { x: 400, y: 800 }, style: nodeStyles.email },
    ],
    edges: [
      { id: 'e1-2', source: '1', target: '2', animated: true },
      { id: 'e2-3', source: '2', target: '3' },
      { id: 'e3-4', source: '3', target: '4' },
      { id: 'e4-5', source: '4', target: '5' },
      { id: 'e5-6', source: '5', target: '6' },
      { id: 'e5-7', source: '5', target: '7' },
      { id: 'e6-8', source: '6', target: '8' },
      { id: 'e7-8', source: '7', target: '8' },
      { id: 'e8-9', source: '8', target: '9' },
      { id: 'e9-10', source: '9', target: '10' },
      { id: 'e10-11', source: '10', target: '11', label: 'Approve' },
      { id: 'e10-12', source: '10', target: '12', label: 'Reject' },
      { id: 'e11-13', source: '11', target: '13' },
      { id: 'e12-14', source: '12', target: '14' },
    ],
  },
  {
    id: 'admin',
    name: 'Admin Dashboard',
    description: 'Admin operations and user management',
    nodes: [
      { id: '1', type: 'input', data: { label: 'Admin Dashboard' }, position: { x: 300, y: 0 }, style: nodeStyles.admin },
      { id: '2', data: { label: 'Select Section' }, position: { x: 300, y: 80 }, style: nodeStyles.decision },
      { id: '3', data: { label: 'User Management' }, position: { x: 100, y: 160 }, style: nodeStyles.process },
      { id: '4', data: { label: 'Campaign Monitor' }, position: { x: 250, y: 160 }, style: nodeStyles.process },
      { id: '5', data: { label: 'Billing Overview' }, position: { x: 400, y: 160 }, style: nodeStyles.process },
      { id: '6', data: { label: 'Reimbursements' }, position: { x: 550, y: 160 }, style: nodeStyles.process },
      { id: '7', data: { label: 'Award Credits' }, position: { x: 0, y: 240 }, style: nodeStyles.success },
      { id: '8', data: { label: 'Deduct Credits' }, position: { x: 120, y: 240 }, style: nodeStyles.warning },
      { id: '9', data: { label: 'Assign Services' }, position: { x: 240, y: 240 }, style: nodeStyles.process },
      { id: '10', data: { label: 'Launch Campaign' }, position: { x: 250, y: 240 }, style: nodeStyles.success },
      { id: '11', data: { label: 'View Transactions' }, position: { x: 400, y: 240 }, style: nodeStyles.process },
      { id: '12', data: { label: 'Approve/Reject' }, position: { x: 550, y: 240 }, style: nodeStyles.decision },
    ],
    edges: [
      { id: 'e1-2', source: '1', target: '2', animated: true },
      { id: 'e2-3', source: '2', target: '3', label: 'Users' },
      { id: 'e2-4', source: '2', target: '4', label: 'Campaigns' },
      { id: 'e2-5', source: '2', target: '5', label: 'Billing' },
      { id: 'e2-6', source: '2', target: '6', label: 'Reimbursements' },
      { id: 'e3-7', source: '3', target: '7' },
      { id: 'e3-8', source: '3', target: '8' },
      { id: 'e3-9', source: '3', target: '9' },
      { id: 'e4-10', source: '4', target: '10' },
      { id: 'e5-11', source: '5', target: '11' },
      { id: 'e6-12', source: '6', target: '12' },
    ],
  },
];
